<br/>
<div class="row">
    <div class="col-sm-12">
        <h4>User Role Mapping</h4><br/>

      <div class="card">
          <div class="card-body">
            <form [formGroup]="angForm" novalidate>
                <div class="row">
                <div class="col-sm-6">

                    <div class="form-group row form-control-sm">
                      <label class="col-sm-4 col-form-label">Employee No:</label>
                      <div class="col-sm-8">
                        <input type="text"  class="form-control" formControlName="employee_no"   #employee_no (keyup)="searchEmployee(employee_no.value)" />
                      </div>
                    </div>
                    <div class="form-group form-control-sm" *ngIf="angForm.controls['employee_no'].invalid && (angForm.controls['employee_no'].dirty || angForm.controls['employee_no'].touched)" class="alert alert-danger ">
                        <div *ngIf="angForm.controls['employee_no'].errors.required" >
                          Employee No is required.
                        </div>
                    </div>

                    <div class="form-group row form-control-sm" >
                        <label class="col-sm-4 col-form-label">User Role:</label>
                        <div class="col-sm-8">
                          <select class="form-control" formControlName="user_role" #user_role >
                            <option value="" selected >Select User Role</option>
                            <option value="Branch User" >Branch User</option>
                            <option  value="IT Officer" >IT Officer</option>
                            <option value="Supervisor" >Supervisor</option>
                            <option  value="Administrator" >Administrator</option>
                          </select>
                        </div>
                    </div>
                    <div class="form-group form-control-sm" *ngIf="angForm.controls['user_role'].invalid && (angForm.controls['user_role'].dirty || angForm.controls['user_role'].touched)" class="alert alert-danger ">
                        <div *ngIf="angForm.controls['user_role'].errors.required" >
                          User Role is required.
                        </div>
                    </div><br/>

                  <div class="form-group row form-control-sm">
                      <div class="col-sm-2"></div>
                      <div class="col-sm-3">
                        <button type="reset" class="btn btn-primary">RESET</button>
                      </div>
                      <div class="col-sm-1"></div>
                      <div class="col-sm-3">
                        <button (click)="updateUserRole(employee_no.value, user_role.value)" [disabled]="angForm.pristine || angForm.invalid" class="btn btn-primary">SAVE</button>
                      </div>
                    </div>
                  </div>

                  <div class="col-sm-6">
                      <div *ngFor="let emp of employees" >
                          <br/>
                        <table class="table table-hover table-primary">
                            <tbody>
                                <tr>
                                  <td align="right">Employee No:</td>
                                  <td>{{emp.employee_no}}</td>
                                </tr>
                                <tr>
                                  <td  align="right">Employee Name:</td>
                                  <td>{{emp.employee_name}}</td>
                                </tr>
                                <tr>
                                  <td  align="right">Designation:</td>
                                  <td>{{emp.designation}}</td>
                                </tr>
                                <tr>
                                  <td  align="right">Company:</td>
                                  <td>{{emp.company}}</td>
                                </tr>
                                <tr>
                                  <td  align="right">Branch:</td>
                                  <td>{{emp.employee_branch}}</td>
                                </tr>
                                <tr>
                                <tr>
                                  <td  align="right">Current User Role:</td>
                                  <td>{{emp.user_role}}</td>
                                </tr>
                                <tr>
                                  <td  align="right">Status:</td>
                                  <td>{{emp.employee_status}}</td>
                                </tr>

                            </tbody>
                        </table>
                    </div>
                  </div>
                </div>
              
              </form>
          </div>
        </div>
    </div>
  

      
      
</div>



